# Meilisearch
MEILI_URL=http://localhost:7700
MEILI_KEY=masterKey
INDEX_NAME=kidsearch

# ============================
# Authentication Configuration
# ============================

# Disable authentication entirely (default: false)
# AUTH_DISABLED=false

# Configure which authentication providers to enable
# Options: oidc, google, github, simple
# Format: comma-separated list (e.g., "oidc,simple" or "google,github")
# Leave empty for auto-detection based on configured credentials
AUTH_PROVIDERS=

# --- OpenID Connect (OIDC) ---
# Compatible with any OIDC provider: Pocket ID, Authentik, Keycloak, etc.
# OIDC_ISSUER=https://auth.example.com  # Your OIDC issuer URL
# OIDC_CLIENT_ID=your_client_id
# OIDC_CLIENT_SECRET=your_client_secret
# OIDC_REDIRECT_URI=http://localhost:8501/  # For Dashboard
# OIDC_SCOPES=openid profile email  # Space-separated scopes
#
# Optional: Manual endpoint configuration (auto-discovered if not set)
# OIDC_AUTHORIZE_URL=https://auth.example.com/oauth2/authorize
# OIDC_TOKEN_URL=https://auth.example.com/oauth2/token
# OIDC_USERINFO_URL=https://auth.example.com/oauth2/userinfo
#
# Example configurations:
# - Pocket ID: OIDC_ISSUER=https://pocketid.example.com
# - Authentik: OIDC_ISSUER=https://authentik.example.com/application/o/kidsearch
# - Keycloak: OIDC_ISSUER=https://keycloak.example.com/realms/myrealm

# --- Simple Password Authentication ---
# Set a password to enable simple authentication
DASHBOARD_PASSWORD=

# --- Email Whitelist (for OAuth providers) ---
# Restrict access to specific email addresses (comma-separated)
# Leave empty to allow any authenticated user
# Example: user1@gmail.com,user2@example.com,admin@company.com
ALLOWED_EMAILS=

# --- Google OAuth (optional) ---
# Get credentials from https://console.cloud.google.com/apis/credentials
# GOOGLE_OAUTH_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
# GOOGLE_OAUTH_CLIENT_SECRET=your_google_client_secret
# GOOGLE_OAUTH_REDIRECT_URI=http://localhost:8501/
# GOOGLE_OAUTH_AUTHORIZE_URL=https://accounts.google.com/o/oauth2/v2/auth
# GOOGLE_OAUTH_TOKEN_URL=https://oauth2.googleapis.com/token

# --- GitHub OAuth (optional) ---
# Get credentials from https://github.com/settings/developers
# GITHUB_OAUTH_CLIENT_ID=your_github_client_id
# GITHUB_OAUTH_CLIENT_SECRET=your_github_client_secret
# GITHUB_OAUTH_REDIRECT_URI=http://localhost:8501/
# GITHUB_OAUTH_AUTHORIZE_URL=https://github.com/login/oauth/authorize
# GITHUB_OAUTH_TOKEN_URL=https://github.com/login/oauth/access_token

# --- JWT Configuration (for API authentication) ---
# SECRET KEY for JWT signing - MUST be changed in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=change-me-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440  # 24 hours

# API Backend (optional - for unified search API)
# API_ENABLED=true
# API_HOST=0.0.0.0  # Interface to listen on (0.0.0.0 = all interfaces)
# API_PORT=8080
# API_DISPLAY_HOST=localhost  # URL shown in documentation (localhost, domain name, etc.)
#                             # If behind reverse proxy: use domain without port (e.g., api.example.com)

# Google APIs
GOOGLE_CSE_API_KEY=
GOOGLE_CSE_ID=
GEMINI_API_KEY=

# Embedding/Reranking
EMBEDDING_PROVIDER=huggingface
HUGGINGFACE_MODEL=intfloat/multilingual-e5-small
RERANKING_ENABLED=true
RERANKER_MODEL=intfloat/multilingual-e5-small

# Wiki API - First Wiki (Vikidia French)
WIKI_API_URL=https://fr.vikidia.org/w/api.php
WIKI_SITE_URL=https://fr.vikidia.org/wiki/
WIKI_SITE_NAME="Vikidia FR"

# Additional Wikis (optional) - Uncomment to enable
# Wiki #2 - Vikidia English
# WIKI_2_API_URL=https://en.vikidia.org/w/api.php
# WIKI_2_SITE_URL=https://en.vikidia.org/wiki/
# WIKI_2_SITE_NAME="Vikidia EN"

# Wiki #3 - Wikipedia Simple English
# WIKI_3_API_URL=https://simple.wikipedia.org/w/api.php
# WIKI_3_SITE_URL=https://simple.wikipedia.org/wiki/
# WIKI_3_SITE_NAME="Wikipedia Simple"

# Add more wikis by incrementing the number (WIKI_4_*, WIKI_5_*, etc.)
