# ===================================================================
#                KIDSEARCH - FICHIER D'ENVIRONNEMENT
# ===================================================================
#
# Copiez ce fichier en .env et ajustez les valeurs selon vos besoins.
# Les valeurs par défaut sont définies dans docker-compose.yml.

# --- Clés et mots de passe ---
# Clé maître pour Meilisearch (doit être complexe en production)
MEILI_KEY=masterKey

# Mot de passe pour le dashboard (laisser vide pour désactiver)
DASHBOARD_PASSWORD=


# --- Configuration de l'index ---
# Nom de l'index Meilisearch
INDEX_NAME=kidsearch


# --- Configuration des Embeddings & Reranking ---
# Provider pour les embeddings: 'huggingface', 'gemini', ou 'none'
EMBEDDING_PROVIDER=huggingface

# --- Options pour 'huggingface' ---
# Modèle utilisé pour l'embedding (doit correspondre au service 'embeddings_small')
HUGGINGFACE_MODEL=intfloat/multilingual-e5-small

# URL du service d'embedding (local ou dans Docker)
# Pour un test local, utilisez http://localhost:8081/embed
HUGGINGFACE_API_URL=http://embeddings_small:80/embed

# --- Options pour le Reranking ---
# Activer le reranking (true/false)
RERANKING_ENABLED=false

# Modèle utilisé pour le reranking (doit correspondre au service 'embeddings_medium')
RERANKER_MODEL=intfloat/multilingual-e5-base

# URL du service de reranking (local ou dans Docker)
# Pour un test local, utilisez http://localhost:8082/embed
RERANKER_API_URL=http://embeddings_medium:80/embed

# Poids pour le score final (doit sommer à 1.0)
MEILISEARCH_WEIGHT=0.7
CSE_WEIGHT=0.3


# --- Clés API Google ---
# Clé API pour Google Custom Search Engine (CSE)
GOOGLE_CSE_API_KEY=

# ID du moteur de recherche CSE
GOOGLE_CSE_ID=

# Clé API pour Google Gemini (utilisé si EMBEDDING_PROVIDER=gemini)
GEMINI_API_KEY=


# --- Configuration des URLs d'affichage ---
# Utilisé pour générer des liens cliquables dans les logs.
# Définissez DISPLAY_HOST si le dashboard et l'API sont sur le même serveur.
# Sinon, définissez les URLs spécifiques.
DISPLAY_HOST=localhost
#DASHBOARD_DISPLAY_HOST=http://localhost:8501
#API_DISPLAY_HOST=http://localhost:8080
